配点 :
300
点
問題文
これはインタラクティブ形式の例題です。初心者向け問題ではありませんので注意してください。
初心者の方は、
AtCoder Beginners Selection
に挑戦してみてください！
最初の
N
個の大文字でラベルの付いた
N
個のボールがあります。
どの二つのボールの重さも異なります。
あなたは
Q
回クエリを質問することができます。
各クエリでは、二つのボールの重さを比べることができます。(詳しくは入出力セクションを見てください)
ボールを軽い順にソートしてください。
制約
(N, Q) = (26, 1000)
,
(26, 100)
,
(5, 7)
のいずれかである。
部分点
三つのテストセットがある。各セットは
100
点ずつである。
テストセット 1:
N = 26
,
Q = 1000
テストセット 2:
N = 26
,
Q = 100
テストセット 3:
N = 5
,
Q = 7
入出力
最初に、標準入力から
N
と
Q
が以下の形式で与えられる:
N
Q
次に、あなたは
Q
回以下クエリを質問する。
各クエリは、標準出力に以下の形式で出力されなければならない:
?
c_1
c_2
ここで
c_1
と
c_2
は異なる最初の
N
個の大文字のどれかでなければならない。
次に、クエリの答えが標準入力から以下の形式で与えられる:
ans
ここで
ans
は
<
または
>
である。
<
のときは
c_2
のほうが重く、
>
のときは
c_1
のほうが重い。
最後に、答えを以下の形式で出力しなければならない：
!
ans
ここで
ans
は
N
文字の文字列であり、最初の
N
個の大文字を軽い順に並べたものでなければならない。
ジャッジ
出力のあと、標準出力を flush しなければならない。
そうでないときは
TLE
の可能性がある。
答えを出力した後、プログラムをすぐに終了しなければならない。そうでないときの挙動は定義されていない。
出力の答えが間違っている場合の挙動は定義されていない (
WA
とは限らない)。
コード例
以下のコードは、C++ で
100
点を獲得するための例です。
部分点を取得可能なコードなので、提出するとWAになります。
#include <cstdio>
#include <string>

using namespace std;

int main(void){
  int N,Q,i,j;

  scanf("%d%d", &N, &Q);

  string s;
  for(i=0;i<N;i++) s += (char)('A' + i);

  for(i=0;i<N;i++) for(j=0;j<N-1;j++){
    printf("? %c %c\n", s[j], s[j+1]);
    fflush(stdout);
    char ans;
    scanf(" %c", &ans);
    if(ans == '>') swap(s[j], s[j+1]);
  }

  printf("! %s\n", s.c_str());
  fflush(stdout);

  return 0;
}
